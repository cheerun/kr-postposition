{"version":3,"sources":["origin.js"],"names":[],"mappings":"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","file":"kr-postposition.js","sourcesContent":["((exports) => {\n  const DEFAULT_SYMBOL = {\n    open: '{',\n    close: '}'\n  }\n\n  let symbol = {\n    open: DEFAULT_SYMBOL.open,\n    close: DEFAULT_SYMBOL.close\n  }\n\n  /**\n   * merge(word: any, type: string): string\n   * @param word: \n   * @param type:\n   * @returns string\n   */\n  exports.merge = (word = '', type) => {\n    if (isUndefined(type)) {\n      return word\n    }\n\n    let koreanStartChar = 0xAC00 // '가'\n    let koreanLastChar = 0XD7A3 // '힣'\n    let jongjangCycle = 28\n    let targetLetter = word.charCodeAt(word.length - 1) - koreanStartChar\n\n    if (targetLetter < 0 || targetLetter > (koreanLastChar - koreanStartChar)) {\n      return word + getPostposition(type, false)\n    }\n    if (targetLetter % jongjangCycle === 0) {\n      return word + getPostposition(type, false)\n    } else {\n      return word + getPostposition(type, true)\n    }\n  }\n  \n  exports.parse = (sentence) => {\n    const parseRegExp = new RegExp(`(.)${symbol.open}([^${symbol.close}.]*)${symbol.close}`, 'gm')\n\n    let result = sentence\n    let matches\n    while (matches = parseRegExp.exec(result)) {\n      let target = matches[0]\n      let word = matches[1]\n      let type = matches[2]\n      let mergedWord = exports.merge(word, type)\n      result = result.replace(target, mergedWord)\n    }\n    return result\n  }\n\n  exports.getSymbol = () => symbol\n  exports.setSymbol = (openSymbol, closeSymbol) => {\n    exports.setOpenSymbol(openSymbol)\n    exports.setCloseSymbol(closeSymbol)\n  }\n  exports.setOpenSymbol = (openSymbol = DEFAULT_SYMBOL.open) => {\n    symbol.open = '\\\\' + openSymbol\n  }\n  exports.setCloseSymbol = (closeSymbol = DEFAULT_SYMBOL.close) => {\n    symbol.close = '\\\\' + closeSymbol\n  }\n\n\n  /**\n   * attach(word: any, type: string): string\n   * @deprecated - changed to merge()\n   */\n  exports.attach = exports.merge\n\n  const getPostposition = (type, hasJongjang) => {\n    let koreanYiCode = 0xC774\n    switch (type) {\n      case '을':\n      case '를':\n        return hasJongjang ? '을' : '를'\n      case '이':\n      case '가':\n        return hasJongjang ? '이' : '가'\n      case '은':\n      case '는':\n        return hasJongjang ? '은' : '는'\n      case '과':\n      case '와':\n        return hasJongjang ? '과' : '와'\n      case '아':\n      case '야':\n        return hasJongjang ? '아' : '야'\n      case '이어':\n      case '여':\n        return hasJongjang ? '이어' : '여'\n      case '이었':\n      case '였':\n        return hasJongjang ? '이었' : '였'\n      case '으로':\n      case '로':\n        return hasJongjang ? '으로' : '로'\n      case '은커녕':\n      case '는커녕':\n        return hasJongjang ? '은커녕' : '는커녕'\n      default:\n        if(type.charCodeAt(0) === koreanYiCode) {\n          return hasJongjang ? type : type.substring(1)\n        } else {\n          return hasJongjang ? '이' + type : type\n        }\n    }\n  }\n\n  const isUndefined = variable => typeof variable === 'undefined'\n})(typeof exports === 'undefined' ? window[ 'krPostposition' ] = {} : exports);"],"sourceRoot":"/source/"}